<!doctype html>
<html lang="en" ng-app="gameOfLifeApp">
<head>
  <meta charset="utf-8">
  <title>Game of Life</title>
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
  <link rel="stylesheet" href="css/app.css">
  <script src="bower_components/angular/angular.js"></script>
  <script src="js/grid.js"></script>
  <script src="js/life.js"></script>
  <script src="js/controllers.js"></script>
  <script src="js/examples.js"></script>
</head>
<body ng-controller="LifeCtrl">
    <style>
        div.grid-col {
            display: inline-block;
            width: {{cellSize}}px;
            height: {{cellSize}}px;
        }

        div.grid-row {
            height: {{cellSize}}px;
        }
    </style>

	<div class="container-fluid">
        <div id="grid" class="col-md-10 text-center"> 
            <div class="grid-row" ng-repeat="row in grid.cells">
                <div class="grid-col" 
                    ng-repeat="cell in row" 
                    ng-class="{
                        alive: cell.display.alive && cell.display.nextState
                        , dead: ! (cell.display.alive || cell.display.nextState )
                        , spawn: ! cell.display.alive && cell.display.nextState 
                        , die: cell.display.alive && ! cell.display.nextState
                    }"
                    ng-click="cellClick(cell)"
                    style="text-decoration: {{cell.display.style}}"
                    >{{displayNeighbours ? cell.display.neighbours : ""}}
                </div>
            </div>
        </div>

		<div id="controls" class="col-md-2 text-center">

            <div class="row form-group">
                <h3>Pattern</h3>
                <button ng-click="random()">random</button>
                <button ng-click="blank()">blank</button>
                <button ng-click="gosper()">Gosper</button>
            </div>

            <div class="row form-group">
                <h3>Evolution</h3>
                <p class="info">tick #{{life.numTicks}}</p>
                <button ng-click="stepBack()"> &lt 
                    <span class="info">{{life.historyStatus().back}} </span> 
                </button>
                <button ng-click="startStop()">{{timer ? "&#9647" : "&#9655" }}</button>
                <button ng-click="stepForward()"> &gt </button>
            </div>

            <div class="row form-group">
                <h3>Speed</h3>
                <input type="number" 
                    ng-change="speedChange()"
                    ng-model="speed" min="1" max="30" required />ticks/sec
            </div>

            <div class="row form-group">
                <h3>Size</h3>
                <p>
                    <button ng-click="life.grid.removeRow()">-</button>
                    {{life.grid.y}} Rows
                    <button ng-click="life.grid.addRow()">+</button>
                </p>
                <p>
                    <button ng-click="life.grid.removeCol()">-</button>
                    {{life.grid.x}} Columns
                    <button ng-click="life.grid.addCol()">+</button>
                </p>
                <p>
                    Cell size <input type="number" ng-model="cellSize" min="5" max="50" required />px
                </p>
            </div>

            <div class="row form-group">
                <input type="checkbox" ng-model="displayNeighbours">
                Display number of neighbours
            </div>


		</div>
	</div>
</body>
</html>
