<div id="grid" class="col-md-10 text-center"> 

	<style>
		div.grid-col {
			display: inline-block;
			width: {{cellSize}}px;
			height: {{cellSize}}px;
		}
		div.grid-row {
			height: {{cellSize}}px;
		}
	</style>


    <div class="grid-row" ng-repeat="row in grid.cells">
        <div class="grid-col" 
            ng-repeat="cell in row" 
            ng-class="{
                alive: cell.display.alive && cell.display.nextState
                , dead: ! (cell.display.alive || cell.display.nextState )
                , spawn: ! cell.display.alive && cell.display.nextState 
                , die: cell.display.alive && ! cell.display.nextState
            }"
            ng-click="cellClick(cell)"
            style="text-decoration: {{cell.display.style}}"
            >{{displayNeighbours ? cell.display.neighbours : ""}}
        </div>
    </div>
</div>

<div id="controls" class="col-md-2 text-center">

    <div class="row form-group">
        <h3>Pattern</h3>
        <button ng-click="random()">random</button>
        <button ng-click="blank()">blank</button>
        <button ng-click="gosper()">Gosper</button>
    </div>

    <div class="row form-group">
        <h3>Evolution</h3>
        <p class="info">tick #{{life.numTicks}}</p>
        <button ng-click="stepBack()"> &lt 
            <span class="info">{{life.historyStatus().back}} </span> 
        </button>
        <button ng-click="startStop()">{{timer ? "&#9647" : "&#9655" }}</button>
        <button ng-click="stepForward()"> &gt </button>
    </div>

    <div class="row form-group">
        <h3>Speed</h3>
        <input type="number" 
            ng-change="speedChange()"
            ng-model="speed" min="1" max="30" required />ticks/sec
    </div>

    <div class="row form-group">
        <h3>Size</h3>
        <p>
            <button ng-click="grid.removeRow()">-</button>
            {{life.grid.y}} Rows
            <button ng-click="grid.addRow()">+</button>
        </p>
        <p>
            <button ng-click="grid.removeCol()">-</button>
            {{life.grid.x}} Columns
            <button ng-click="grid.addCol()">+</button>
        </p>
        <p>
            Cell size <input type="number" ng-model="cellSize" min="5" max="50" required />px
        </p>
    </div>

    <div class="row form-group">
        <input type="checkbox" ng-model="displayNeighbours">
        Display number of neighbours
    </div>


</div>
