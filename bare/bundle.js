!function(t){function e(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var r,o,s,n,h,l,a,c;o=i(1),s=i(3),r=i(4),n=i(5),l=i(8),console.log("hello life"),a=new o(40,40,50),c=new s(a),h=new r(c),window.ctrl=h,window.onload=function(){return l(h),h.setGosper(),console.log("setting gosper")},t.exports=h},function(t,e,i){var r,o;r=i(2),o=function(){function t(t,e,i){var r;for(this.x=t,this.y=e,this.cells=new Array(e),this.sparseFactor=i,r=0;e>r;)this.cells[r]=this.createRow(r),r++;return this}return t.prototype.createRow=function(t){var e,i;for(e=0,i=new Array(this.x);e<this.x;)i[e]=new r(e,t,!1),e++;return i},t.prototype.getCell=function(t,e){return this.cells[e][t]},t.prototype.setCell=function(t,e,i){return this.cells[e][t].alive=i},t.prototype.forEachCell=function(t,e){var i,r,o,s,n,h,l;for(e=e||[],h=this.cells,r=0,s=h.length;s>r;r++)for(l=h[r],o=0,n=l.length;n>o;o++)i=l[o],t.apply(i,e)},t.prototype.setBlankState=function(){return this.forEachCell(r.prototype.reset,[!1])},t.prototype.setRandomState=function(){var t,e,i,r,o,s,n,h,l;for(i=new Uint8Array(this.x*this.y),window.crypto.getRandomValues(i),e=0,h=this.cells,r=0,s=h.length;s>r;r++)for(l=h[r],o=0,n=l.length;n>o;o++)t=l[o],t.reset(i[e++]<this.sparseFactor)},t.prototype.addCol=function(){var t,e,i,o,s;for(this.x++,i=this.cells,s=t=0,e=i.length;e>t;s=++t)o=i[s],o.push(new r(this.x,s,!1))},t.prototype.delCol=function(){var t,e,i,r;for(this.x--,i=this.cells,t=0,e=i.length;e>t;t++)r=i[t],r.pop()},t.prototype.addRow=function(){return this.y++,this.cells.push(this.createRow(this.y))},t.prototype.delRow=function(){return this.y--,this.cells.pop()},t.prototype.fromJson=function(t){var e,i,r;for(this.setBlankState(),i=0,r=t.length;r>i;i++)e=t[i],this.getCell(e[0],e[1]).alive=!0},t.prototype.toJson=function(){return this.cells.reduce(function(t,e){return e.reduce(function(t,e){return e.display.alive&&t.push([e.x,e.y]),t},t)},[])},t}(),t.exports=o},function(t,e){var i,r;r=function(){function t(t,e){return this.neighbors=e,this.alive=t,this}return t}(),i=function(){function t(t,e,i){return this.display=new r(i,0),this.x=t,this.y=e,this.alive=i,this.neighbors=0,this.previous=[],this.following=[],this}return t.Display=r,t.prototype.reset=function(t){return this.alive=!!t,this.previous=[],this.following=[],this.neighbors=0,this.display=new r(this.alive,0)},t.prototype.resetPreStep=function(){return this.alive=this.display.alive,this.following=[]},t.prototype.stepBack=function(){return this.following.push(this.display),this.display=this.previous.pop()},t.prototype.stepForward=function(){return this.previous.push(this.display),this.display=this.following.pop()},t.prototype.invertState=function(){return this.display=new r(!this.display.alive,this.display.neighbors)},t.prototype.getNextState=function(){var t;return t=this.alive&&this.neighbors>1&&this.neighbors<4||!this.alive&&3===this.neighbors,(this.display.alive!==this.alive||this.display.neighbors!==this.neighbors)&&(this.display=new r(this.alive,this.neighbors)),this.alive=t,this.neighbors=0},t.prototype.liveOrDie=function(){return this.previous.length>t.historyLimit&&this.previous.shift(),this.previous.push(this.display),this.getNextState()},t}(),t.exports=i},function(t,e,i){var r,o;r=i(2),o=function(){function t(t){return this.grid=t,this.numTicks=0,this}return t.historyLimit=100,r.historyLimit=t.historyLimit,t.prototype.historyStatus=function(){var t;return t=this.grid.getCell(0,0),{back:t.previous.length,forward:t.following.length}},t.prototype.stepBack=function(){return this.historyStatus().back?(this.grid.forEachCell(r.prototype.stepBack),this.numTicks--):void 0},t.prototype.resetPreStep=function(){return this.grid.forEachCell(r.prototype.resetPreStep),this.preStep()},t.prototype.preStep=function(){return this.step(r.prototype.getNextState)},t.prototype.stepForward=function(){return this.historyStatus().forward?this.grid.forEachCell(r.prototype.stepForward):this.step(r.prototype.liveOrDie),this.numTicks++},t.prototype.step=function(t){var e,i,r,o,s,n,h,l;return r=function(e,i){var r,o,s;return r=e.aboveRow.shift(),o=e.aboveLeft,s=e.left,e.aboveLeft=r,e.left=i,o.neighbors+=i.alive+r.alive+s.alive,s.neighbors+=o.alive+r.alive,r.neighbors+=s.alive+o.alive,i.neighbors+=o.alive,t.call(o),e},i=function(e,i){var o,s,n,h;return h=i.slice(),n=e.slice(),s={aboveLeft:n.shift(),aboveRow:n,left:h.shift()},o=h.reduce(r,s),o.aboveLeft.neighbors+=o.left.alive,o.left.neighbors+=o.aboveLeft.alive,t.call(o.aboveLeft),i},e=this.grid.cells.slice(),s=e.shift(),l=e.reduce(i,s),h=l.slice(),o=h.shift(),n=h.reduce(function(e,i){return i.neighbors+=e.alive,e.neighbors+=i.alive,t.call(e),i},o),t.call(n)},t.prototype.setPattern=function(t){return this.numTicks=0,t(),this.preStep()},t.prototype.setRandom=function(){return this.setPattern(this.grid.setRandomState.bind(this.grid))},t.prototype.setBlank=function(){return this.setPattern(this.grid.setBlankState.bind(this.grid))},t.prototype.loadPattern=function(t){return this.setPattern(this.grid.fromJson.bind(this.grid,t))},t}(),t.exports=o},function(t,e,i){var r,o,s,n,h;n=i(5),s=i(6),r=i(7),h=function(t,e){return t.innerHTML=".cell{ width:"+e+"px;height:"+e+"px;font-size:"+.6*e+"pt}"},o=function(){function t(t){this.timer=null,this.life=t,this.delay=1,this.cellSize=12,this.showNeighbors=!1,this.clock=new r(50),this.rManager=new n(this)}return t.prototype.interrupt=function(t){return this.stop(),t(),this.refresh()},t.prototype.stop=function(){return this.timer?(clearInterval(this.timer),setTimeout(this.clock.stop.bind(this.clock)),this.timer=null):!0},t.prototype.startStop=function(){return this.stop()&&(this.cellClickCheck(),this.timer=setInterval(this.tick.bind(this),this.delay),this.clock.start()),this.refresh()},t.prototype.stepForward=function(){return this.cellClickCheck(),this.interrupt(this.life.stepForward.bind(this.life))},t.prototype.tick=function(){return this.life.stepForward(),this.clock.mark(),this.refresh()},t.prototype.stepBack=function(){return this.cellClickCheck(),this.interrupt(this.life.stepBack.bind(this.life))},t.prototype.speedChange=function(t){return this.delay=Number.parseInt(t.target.value),this.timer?(clearInterval(this.timer),this.timer=setInterval(this.tick.bind(this),this.delay)):void 0},t.prototype.showNeighborsChange=function(){return function(t){return function(e){return t.showNeighbors=!!e.target.checked,t.rManager.instances.grid.toggleNeighbors(t.showNeighbors)}}(this)},t.prototype.cellSizeChange=function(){var t;return t=document.getElementById("styleCell"),h(t,this.cellSize),function(e){return function(i){return e.cellSize=Number.parseInt(i.target.value),h(t,e.cellSize)}}(this)},t.prototype.cellAction=function(t){return this.stop(),this.cellClicked=!0,t.cell.invertState(),this.life.resetPreStep(),this.refresh()},t.prototype.cellClickCheck=function(){return this.cellClicked?(this.cellClicked=!1,this.life.resetPreStep()):void 0},t.prototype.load=function(t){return this.interrupt(this.life.loadPattern.bind(this.life,t))},t.prototype.lifeAction=function(t){return this.interrupt(t.bind(this.life))},t.prototype.gridAction=function(t){return this.interrupt(function(e){return function(){return t.call(e.life.grid),e.rManager.instances.grid.buildRows()}}(this))},t.prototype.addRow=function(){return this.gridAction(this.life.grid.addRow)},t.prototype.delRow=function(){return this.gridAction(this.life.grid.delRow)},t.prototype.addCol=function(){return this.gridAction(this.life.grid.addCol)},t.prototype.delCol=function(){return this.gridAction(this.life.grid.delCol)},t.prototype.setPulsar=function(){return this.load(s.pulsar)},t.prototype.setGosper=function(){return this.load(s.gosper)},t.prototype.setBlank=function(){return this.lifeAction(this.life.setBlank)},t.prototype.setRandom=function(){return this.lifeAction(this.life.setRandom)},t.prototype.refresh=function(){return this.rManager.refresh()},t}(),t.exports=o},function(t,e){var i,r=[].slice;i=function(){function t(t){this.ctrl=t,this.instances={}}return t.prototype.attach=function(){var t,e,i,o;return e=arguments[0],i=arguments[1],t=3<=arguments.length?r.call(arguments,2):[],t.unshift(document.getElementById(i)),t.unshift(null),o=new(e.bind.apply(e,t)),this.instances[i]=o,o},t.prototype.attachCtrlAction=function(){var t,e,i;return e=2<=arguments.length?r.call(arguments,0,i=arguments.length-1):(i=0,[]),t=arguments[i++],e.push(t.bind(this.ctrl)),this.attach.apply(this,e)},t.prototype.refresh=function(){var t,e,i;i=this.instances;for(e in i)t=i[e],t.refresh()},t.prototype.getCtrl=function(){return this.ctrl},t}(),t.exports=i},function(t,e){var i;i={gosper:[[26,3],[24,4],[26,4],[14,5],[15,5],[22,5],[23,5],[36,5],[37,5],[13,6],[17,6],[22,6],[23,6],[36,6],[37,6],[2,7],[3,7],[12,7],[18,7],[22,7],[23,7],[2,8],[3,8],[12,8],[16,8],[18,8],[19,8],[24,8],[26,8],[12,9],[18,9],[26,9],[13,10],[17,10],[14,11],[15,11]],pulsar:[[15,11],[16,11],[17,11],[21,11],[22,11],[23,11],[13,13],[18,13],[20,13],[25,13],[13,14],[18,14],[20,14],[25,14],[13,15],[18,15],[20,15],[25,15],[15,16],[16,16],[17,16],[21,16],[22,16],[23,16],[15,18],[16,18],[17,18],[21,18],[22,18],[23,18],[13,19],[18,19],[20,19],[25,19],[13,20],[18,20],[20,20],[25,20],[13,21],[18,21],[20,21],[25,21],[15,23],[16,23],[17,23],[21,23],[22,23],[23,23]]},t.exports=i},function(t,e){var i;i=function(){function t(t){this.frame=0,this.worst=0,this.marker=performance.now(),this.avgSample=new Uint16Array(t),this.sampleIdx=0,this.sampleSize=t,this.average=0,this.avgTotal=0,this.cycleComplete=!1}return t.prototype.stop=function(){return this.cycleComplete=!1,this.worst=0,this.avgSample.fill(0),this.avgTotal=0,this.marker=0,this.sampleIdx=0,this.average=0},t.prototype.start=function(){return this.marker=performance.now()},t.prototype.mark=function(){var t,e;return e=this.marker,this.marker=performance.now(),this.frame=Math.floor(this.marker-e),t=this.avgSample[this.sampleIdx],this.avgSample[this.sampleIdx]=this.frame,this.avgTotal+=this.frame-t,this.cycleComplete&&(this.average=Math.floor(this.avgTotal/this.sampleSize)),this.frame>this.worst&&(this.worst=this.frame),this.sampleIdx++,(this.sampleIdx%=this.sampleSize)||(this.worst=0,this.cycleComplete=!0)},t.prototype.getFPS=function(){return this.functor(function(t){return Math.floor(1/(t/1e3))})},t.prototype.getTimes=function(){return this.functor(function(t){return t})},t.prototype.functor=function(t){return{frame:t(this.frame),worst:t(this.worst),average:t(this.average)}},t}(),t.exports=i},function(t,e,i){var r,o,s,n;r=i(9),s=i(10),o=i(11),n=function(t){var e,i;return i=t.rManager,e=t,i.attach(r.Info,"backTick").refresh=function(){return this.setText(e.life.historyStatus().back)},i.attachCtrlAction(r.Button,"startBtn",e.startStop).refresh=function(){return this.setText(e.timer?"▯":"▷")},i.attach(r.Info,"tickNo").refresh=function(){return this.setText("tick #"+e.life.numTicks)},i.attach(r.Info,"noRows").refresh=function(){return this.setText(e.life.grid.y)},i.attach(r.Info,"noCols").refresh=function(){return this.setText(e.life.grid.x)},i.attach(o,"clock",e.clock),i.attach(r.Input,"cellSize",e.cellSize,e.cellSizeChange()),i.attach(r.Check,"showNeighbors",e.showNeighbors,e.showNeighborsChange()),i.attachCtrlAction(r.Input,"delay",e.delay,e.speedChange),i.attachCtrlAction(s,"grid",e.life.grid,e.showNeighbors,e.cellAction)},t.exports=n},function(t,e){var i,r,o,s,n=function(t,e){function i(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},h={}.hasOwnProperty;o=function(){function t(t){this.dom=t}return t.prototype.refresh=function(){},t.prototype.setText=function(t){this.dom.innerHTML=t},t}(),i=function(t){function e(t,i){e.__super__.constructor.call(this,t),this.dom.onclick=i}return n(e,t),e}(o),s=function(t){function e(t,i,r){e.__super__.constructor.call(this,t),this.dom.value=i,this.dom.onchange=r}return n(e,t),e}(o),r=function(t){function e(t,i,r){e.__super__.constructor.call(this,t),this.dom.onchange=r,this.dom.checked=i}return n(e,t),e}(o),t.exports={Info:o,Input:s,Check:r,Button:i}},function(t,e){var i,r,o;o=function(t){return"cell "+(t?"alive":"dead")},i=function(){function t(t,e,i){this.dom=document.createElement("div"),this.dom.className=o(t.display.alive),this.display=t.display,this.dom.innerHTML=e?this.neighbors:"",this.cell=t,this.dom.onclick=function(t){return function(){return i(t)}}(this)}return t.prototype.refreshWithNeighbors=function(){this.cell.display!==this.display&&(this.display=this.cell.display,this.dom.className=o(this.display.alive),this.dom.innerHTML=this.display.neighbors)},t.prototype.refreshNoNeighbors=function(){this.cell.display!==this.display&&(this.display=this.cell.display,this.dom.className=o(this.display.alive))},t}(),r=function(){function t(t,e,i,r){this.dom=t,this.grid=e,this.cells=new Array(e.y),this.action=r,this.showNeighbors=i,this.buildRows()}return t.prototype.buildRows=function(){var t,e,r,o,s,n,h,l,a,c,p;for(this.dom.innerHTML="",this.showNeighbors?i.prototype.refresh=i.prototype.refreshWithNeighbors:i.prototype.refresh=i.prototype.refreshNoNeighbors,h=this.grid.cells,p=e=0,o=h.length;o>e;p=++e)for(l=h[p],a=document.createElement("div"),a.className="row",this.dom.appendChild(a),this.cells[p]=new Array(l.length),c=r=0,s=l.length;s>r;c=++r)t=l[c],n=new i(t,this.showNeighbors,this.action),this.cells[p][c]=n,a.appendChild(n.dom);return this.dom},t.prototype.toggleNeighbors=function(t){var e,r,o,s,n,h,l,a,c,p,u,f;if(t)for(i.prototype.refresh=i.prototype.refreshWithNeighbors,p=this.cells,r=0,h=p.length;h>r;r++)for(f=p[r],o=0,l=f.length;l>o;o++)e=f[o],e.display=null;else for(i.prototype.refresh=i.prototype.refreshNoNeighbors,u=this.cells,s=0,a=u.length;a>s;s++)for(f=u[s],n=0,c=f.length;c>n;n++)e=f[n],e.dom.innerHTML="";return this.refresh()},t.prototype.refresh=function(){var t,e,i,r,o,s,n,h,l,a;for(n=this.grid.cells,a=e=0,r=n.length;r>e;a=++e)for(h=n[a],l=i=0,o=h.length;o>i;l=++i)t=h[l],s=this.cells[a][l],s.refresh()},t}(),t.exports=r},function(t,e){var i;i=function(){function t(t,e){this.dom=t,this.clock=e,this.setTemplate()}return t.prototype.setTemplate=function(){var t,e,i,r;this.domAtoms={},this.domAtoms.sampleSize=this.dom.querySelector("#clock-sampleSize"),this.domAtoms.sampleSize.innerHTML=this.clock.sampleSize,e=this.clock.getTimes();for(t in e)r=e[t],i="#clock-"+t,this.domAtoms[t]=this.dom.querySelector(i);return null},t.prototype.refresh=function(){var t,e,i,r,o;r=this.clock.getTimes(),t=this.clock.getFPS(),i=[];for(e in r)o=r[e],i.push(this.domAtoms[e].innerHTML=o+" ("+t[e]+")");return i},t}(),t.exports=i}]);