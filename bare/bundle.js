!function(t){function e(r){if(i[r])return i[r].exports;var s=i[r]={exports:{},id:r,loaded:!1};return t[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var r,s,n,o,h,l,c;s=i(1),n=i(3),r=i(4),h=i(8),console.log("hello life"),l=new s(40,40,50),c=new n(l),console.log("setting gosper"),o=new r(c),window.ctrl=o,window.onload=function(){return h(o),o.setGosper()},t.exports=o},function(t,e,i){var r,s;r=i(2),s=function(t,e,i){var r;for(this.x=t,this.y=e,this.cells=new Array(e),this.sparseFactor=i,r=0;e>r;)this.cells[r]=this.createRow(r),r++;return this},s.prototype={createRow:function(t){var e,i;for(e=0,i=new Array(this.x);e<this.x;)i[e]=new r(e,t,!1),e++;return i},getCell:function(t,e){return this.cells[e][t]},setCell:function(t,e,i){return this.cells[e][t].alive=i},forEachCell:function(t,e){var i,r,s,n,o,h,l;for(e=e||[],h=this.cells,r=0,n=h.length;n>r;r++)for(l=h[r],s=0,o=l.length;o>s;s++)i=l[s],t.apply(i,e)},setBlankState:function(){return this.forEachCell(r.prototype.reset,[!1])},setRandomState:function(){var t,e,i,r,s,n,o,h,l;for(i=new Uint8Array(this.x*this.y),window.crypto.getRandomValues(i),e=0,h=this.cells,r=0,n=h.length;n>r;r++)for(l=h[r],s=0,o=l.length;o>s;s++)t=l[s],t.reset(i[e++]<this.sparseFactor)},addCol:function(){var t,e,i,s,n;for(this.x++,i=this.cells,n=t=0,e=i.length;e>t;n=++t)s=i[n],s.push(new r(this.x,n,!1))},delCol:function(){var t,e,i,r;for(this.x--,i=this.cells,t=0,e=i.length;e>t;t++)r=i[t],r.pop()},addRow:function(){return this.y++,this.cells.push(this.createRow(this.y))},delRow:function(){return this.y--,this.cells.pop()},fromJson:function(t){var e,i,r;for(this.setBlankState(),i=0,r=t.length;r>i;i++)e=t[i],this.getCell(e[0],e[1]).alive=!0},toJson:function(){return this.cells.reduce(function(t,e){return e.reduce(function(t,e){return e.display.alive&&t.push([e.x,e.y]),t},t)},[])}},t.exports=s},function(t,e){var i,r;r=function(t,e){return this.neighbors=e,this.alive=t,this},i=function(t,e,i){return this.display=new r(i,0),this.x=t,this.y=e,this.alive=i,this.neighbors=0,this.previous=[],this.following=[],this},i.Display=r,i.prototype={reset:function(t){return this.alive=!!t,this.previous=[],this.following=[],this.neighbors=0,this.display.alive=!!t,this.display.neighbors=0},resetPreStep:function(){return this.alive=this.display.alive,this.following=[]},stepBack:function(){return this.following.push(this.display),this.display=this.previous.pop()},stepForward:function(){return this.previous.push(this.display),this.display=this.following.pop()},invertState:function(){return this.display.alive=!this.display.alive},getNextState:function(){var t;return t=this.alive&&this.neighbors>1&&this.neighbors<4||!this.alive&&3===this.neighbors,this.display=new r(this.alive,this.neighbors),this.alive=t,this.neighbors=0},liveOrDie:function(){return this.previous.length>i.historyLimit&&this.previous.shift(),this.previous.push(this.display),this.getNextState()}},t.exports=i},function(t,e,i){var r,s;r=i(2),s=function(t){return this.grid=t,this.numTicks=0,this},s.historyLimit=100,r.historyLimit=s.historyLimit,s.prototype={historyStatus:function(){var t;return t=this.grid.getCell(0,0),{back:t.previous.length,forward:t.following.length}},stepBack:function(){return this.historyStatus().back?(this.grid.forEachCell(r.prototype.stepBack),this.numTicks--):void 0},resetPreStep:function(){return this.grid.forEachCell(r.prototype.resetPreStep),this.preStep()},preStep:function(){return this.step(r.prototype.getNextState)},stepForward:function(){return this.historyStatus().forward?this.grid.forEachCell(r.prototype.stepForward):this.step(r.prototype.liveOrDie),this.numTicks++},step:function(t){var e,i,r,s,n,o,h,l;return r=function(e,i){var r,s,n;return r=e.aboveRow.shift(),s=e.aboveLeft,n=e.left,e.aboveLeft=r,e.left=i,s.neighbors+=i.alive+r.alive+n.alive,n.neighbors+=s.alive+r.alive,r.neighbors+=n.alive+s.alive,i.neighbors+=s.alive,t.call(s),e},i=function(e,i){var s,n,o,h;return h=i.slice(),o=e.slice(),n={aboveLeft:o.shift(),aboveRow:o,left:h.shift()},s=h.reduce(r,n),s.aboveLeft.neighbors+=s.left.alive,s.left.neighbors+=s.aboveLeft.alive,t.call(s.aboveLeft),i},e=this.grid.cells.slice(),n=e.shift(),l=e.reduce(i,n),h=l.slice(),s=h.shift(),o=h.reduce(function(e,i){return i.neighbors+=e.alive,e.neighbors+=i.alive,t.call(e),i},s),t.call(o)},setPattern:function(t){return this.numTicks=0,t(),this.preStep()},setRandom:function(){return this.setPattern(this.grid.setRandomState.bind(this.grid))},setBlank:function(){return this.setPattern(this.grid.setBlankState.bind(this.grid))},loadPattern:function(t){return this.setPattern(this.grid.fromJson.bind(this.grid,t))}},t.exports=s},function(t,e,i){var r,s,n,o;r=i(5),n=i(7),o=function(t,e){return t.innerHTML=".cell{ width:"+e+"px;height:"+e+"px;font-size:"+.6*e+"pt}"},s=function(t){return this.timer=null,this.life=t,this.delay=1,this.cellSize=12,this.showNeighbors=!1,this.cManager=new r.Manager(this),this},s.prototype={interrupt:function(t){return this.stop(),t(),this.refresh()},stop:function(){return this.timer?(clearInterval(this.timer),this.timer=null):void 0},startStop:function(){return this.timer?(clearInterval(this.timer),this.timer=null):(this.cellClickCheck(),this.timer=setInterval(this.tick.bind(this),this.delay)),this.refresh()},stepForward:function(){return this.cellClickCheck(),this.interrupt(this.life.stepForward.bind(this.life))},tick:function(){return this.life.stepForward(),this.refresh()},stepBack:function(){return this.cellClickCheck(),this.interrupt(this.life.stepBack.bind(this.life))},speedChange:function(t){return this.delay=Number.parseInt(t.target.value),this.timer?(clearInterval(this.timer),this.timer=setInterval(this.tick.bind(this),this.delay)):void 0},showNeighborsChange:function(){var t;return t=document.getElementById("styleNeighbors"),function(t){return function(e){return t.showNeighbors=!!e.target.checked,t.cManager.instances.grid.toggleNeighbors(t.showNeighbors)}}(this)},cellSizeChange:function(){var t;return t=document.getElementById("styleCell"),o(t,this.cellSize),function(e){return function(i){return e.cellSize=Number.parseInt(i.target.value),o(t,e.cellSize)}}(this)},cellAction:function(t){return this.stop(),this.cellClicked=!0,t.cell.invertState(),this.life.resetPreStep(),this.refresh()},cellClickCheck:function(){return this.cellClicked?(this.cellClicked=!1,this.life.resetPreStep()):void 0},load:function(t){return this.interrupt(this.life.loadPattern.bind(this.life,t))},lifeAction:function(t){return this.interrupt(t.bind(this.life))},gridAction:function(t){return this.interrupt(function(e){return function(){return t.call(e.life.grid),e.cManager.instances.grid.buildRows()}}(this))},addRow:function(){return this.gridAction(this.life.grid.addRow)},delRow:function(){return this.gridAction(this.life.grid.delRow)},addCol:function(){return this.gridAction(this.life.grid.addCol)},delCol:function(){return this.gridAction(this.life.grid.delCol)},setPulsar:function(){return this.load(n.pulsar)},setGosper:function(){return this.load(n.gosper)},setBlank:function(){return this.lifeAction(this.life.setBlank)},setRandom:function(){return this.lifeAction(this.life.setRandom)},refresh:function(){return this.cManager.refresh()}},t.exports=s},function(t,e,i){var r,s,n,o,h,l,c,a=[].slice;n=i(6),o=function(t){return this.dom=t,this},o.prototype={refresh:function(){},setText:function(t){this.dom.innerHTML=t}},r=function(t,e){return o.call(this,t),this.dom.onclick=e,this},r.prototype=Object.create(o.prototype),r.prototype.constructor=r,h=function(t,e,i){return o.call(this,t),this.dom.onchange=i,this.dom.value=e,this},h.prototype=Object.create(o.prototype),h.prototype.constructor=h,s=function(t,e,i){return o.call(this,t),this.dom.onchange=i,this.dom.checked=e,this},s.prototype=Object.create(o.prototype),s.prototype.constructor=s,l=function(t){return this.ctrl=t,this.instances={},this},l.prototype={attachNoAction:function(){var t,e,i,r;return e=arguments[0],i=arguments[1],t=3<=arguments.length?a.call(arguments,2):[],t.unshift(document.getElementById(i)),t.unshift(null),r=new(e.bind.apply(e,t)),this.instances[i]=r,r},attachAction:function(){var t,e,i;return e=2<=arguments.length?a.call(arguments,0,i=arguments.length-1):(i=0,[]),t=arguments[i++],e.push(t.bind(this.ctrl)),this.attachNoAction.apply(this,e)},refresh:function(){var t,e,i;i=this.instances;for(e in i)t=i[e],t.refresh()}},c={Info:o,Input:h,Check:s,Button:r,Grid:n},t.exports={Manager:l,Units:c}},function(t,e){var i,r,s;s=function(t){return"cell "+(t?"alive":"dead")},i=function(t,e,i){return this.dom=document.createElement("div"),this.dom.className=s(t.display.alive),this.alive=t.display.alive,this.neighbors=t.display.neighbors,this.dom.innerHTML=e?this.neighbors:"",this.cell=t,this.dom.onclick=function(t){return function(){return i(t)}}(this),this},i.prototype={refreshWithNeighbors:function(){this.cell.display.alive===this.alive&&this.cell.display.neighbors===this.neighbors||(this.alive=this.cell.display.alive,this.neighbors=this.cell.display.neighbors,this.dom.className=s(this.alive),this.dom.innerHTML=this.neighbors)},refreshNoNeighbors:function(){this.cell.display.alive!==this.alive&&(this.alive=this.cell.display.alive,this.dom.className=s(this.alive))}},r=function(t,e,i,r){return this.dom=t,this.grid=e,this.cells=new Array(e.y),this.action=r,this.showNeighbors=i,this.buildRows(),this},r.prototype={buildRows:function(){var t,e,r,s,n,o,h,l,c,a,u;for(this.dom.innerHTML="",this.showNeighbors?i.prototype.refresh=i.prototype.refreshWithNeighbors:i.prototype.refresh=i.prototype.refreshNoNeighbors,h=this.grid.cells,u=e=0,s=h.length;s>e;u=++e)for(l=h[u],c=document.createElement("div"),c.className="row",this.dom.appendChild(c),this.cells[u]=new Array(l.length),a=r=0,n=l.length;n>r;a=++r)t=l[a],o=new i(t,this.showNeighbors,this.action),this.cells[u][a]=o,c.appendChild(o.dom);return this.dom},toggleNeighbors:function(t){var e,r,s,n,o,h,l,c,a,u,f,p;if(t)for(i.prototype.refresh=i.prototype.refreshWithNeighbors,u=this.cells,r=0,h=u.length;h>r;r++)for(p=u[r],s=0,l=p.length;l>s;s++)e=p[s],e.neighbors=null;else for(i.prototype.refresh=i.prototype.refreshNoNeighbors,f=this.cells,n=0,c=f.length;c>n;n++)for(p=f[n],o=0,a=p.length;a>o;o++)e=p[o],e.dom.innerHTML="";return this.refresh()},refresh:function(){var t,e,i,r,s,n,o,h,l,c;for(o=this.grid.cells,c=e=0,r=o.length;r>e;c=++e)for(h=o[c],l=i=0,s=h.length;s>i;l=++i)t=h[l],n=this.cells[c][l],n.refresh()}},t.exports=r},function(t,e){var i;i={gosper:[[26,3],[24,4],[26,4],[14,5],[15,5],[22,5],[23,5],[36,5],[37,5],[13,6],[17,6],[22,6],[23,6],[36,6],[37,6],[2,7],[3,7],[12,7],[18,7],[22,7],[23,7],[2,8],[3,8],[12,8],[16,8],[18,8],[19,8],[24,8],[26,8],[12,9],[18,9],[26,9],[13,10],[17,10],[14,11],[15,11]],pulsar:[[15,11],[16,11],[17,11],[21,11],[22,11],[23,11],[13,13],[18,13],[20,13],[25,13],[13,14],[18,14],[20,14],[25,14],[13,15],[18,15],[20,15],[25,15],[15,16],[16,16],[17,16],[21,16],[22,16],[23,16],[15,18],[16,18],[17,18],[21,18],[22,18],[23,18],[13,19],[18,19],[20,19],[25,19],[13,20],[18,20],[20,20],[25,20],[13,21],[18,21],[20,21],[25,21],[15,23],[16,23],[17,23],[21,23],[22,23],[23,23]]},t.exports=i},function(t,e,i){var r,s,n;s=i(5),r=s.Units,n=function(t){var e;return e=t.cManager,e.attachAction(r.Button,"backBtn",t.stepBack).refresh=function(){return this.setText("<"+t.life.historyStatus().back)},e.attachAction(r.Button,"startBtn",t.startStop).refresh=function(){return this.setText(t.timer?"▯":"▷")},e.attachNoAction(r.Info,"tickNo").refresh=function(){return this.setText("tick "+t.life.numTicks)},e.attachNoAction(r.Info,"noRows").refresh=function(){return this.setText(t.life.grid.y)},e.attachNoAction(r.Info,"noCols").refresh=function(){return this.setText(t.life.grid.x)},e.attachAction(r.Input,"delay",t.delay,t.speedChange),e.attachAction(r.Input,"cellSize",t.cellSize,t.cellSizeChange()),e.attachAction(r.Check,"showNeighbors",t.showNeighbors,t.showNeighborsChange()),e.attachAction(r.Grid,"grid",t.life.grid,t.showNeighbors,t.cellAction)},t.exports=n}]);